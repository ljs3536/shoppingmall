<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header">
<style>
.pagination a {
    padding: 8px 16px;
    text-decoration: none;
    color: black;
    border: 1px solid #ddd;
    margin: 0 4px;
}

.pagination a.active {
    background-color: #4CAF50;
    color: white;
}

.pagination a.disabled {
    pointer-events: none;
    color: grey;
    border-color: grey;
}

</style>
</head>
<body>

<div class="container">
    <div th:replace="fragments/bodyHeader :: bodyHeader" />
    <div>
        <table class="table table-striped">
            <thead>
            <tr>
                <th>#</th>
                <th>이름</th>
                <th>별명</th>
                <th>지역</th>
                <th>나이</th>
                <th>성별</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="member : ${members}">
                <td>
                    <a th:href="@{/members/view/{id}(id=${member.id})}" th:text="${member.id}"></a>
                </td>
                <td th:text="${member.username}"></td>
                <td th:text="${member.nickname}"></td>
                <td th:text="${member.region}"></td>
                <td th:text="${member.age}"></td>
                <td th:text="${member.gender}"></td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="pagination">
        <!-- 첫 번째 페이지 이동 -->
        <li class="page-item" th:classappend="${memberPage.first} ? 'disabled'">
            <a class="page-link" th:href="@{/admin/members(page=0, size=${memberPage.size})}">
                &laquo;&laquo;
            </a>
        </li>
        <!-- 이전 페이지 -->
        <li class="page-item" th:classappend="${memberPage.first} ? 'disabled'">
            <a class="page-link" th:href="@{/admin/members(page=${memberPage.number - 1}, size=${memberPage.size})}">
                &laquo;
            </a>
        </li>
        <!-- 페이지 번호 반복 -->
        <li class="page-item" th:each="i : ${#numbers.sequence(0, memberPage.totalPages - 1)}" th:classappend="${memberPage.number == i} ? 'active' : ''">
            <a class="page-link" th:href="@{/admin/members(page=${i}, size=${memberPage.size})}"
               th:text="${i + 1}">
            </a>
        </li>
        <!-- 다음 페이지 -->
        <li class="page-item" th:classappend="${memberPage.last} ? 'disabled'">
            <a class="page-link" th:href="@{/admin/members(page=${memberPage.number + 1}, size=${memberPage.size})}">
                &raquo;
            </a>
        </li>
        <!-- 마지막 페이지 이동 -->
        <li class="page-item" th:classappend="${memberPage.last} ? 'disabled'">
            <a class="page-link" th:href="@{/admin/members(page=${memberPage.totalPages - 1}, size=${memberPage.size})}">
                &raquo;&raquo;
            </a>
        </li>
    </div>
    <div th:replace="fragments/footer :: footer" />

</div> <!-- /container -->

</body>
</html>
